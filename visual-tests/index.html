<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>D3FC Visual Tests</title>
    <link href="assets/style.css" rel="stylesheet">
    <link href="../dist/d3-financial-components.css" rel="stylesheet">
  </head>
  <body>
    <h1>D3FC Visual Tests</h1>

    <section>
        <h2>Indicators</h2>

        <h3>Bollinger Bands</h3>
        <div id="bollinger-bands"></div>

        <h3>Moving Average</h3>
        <div id="moving-average"></div>

        <h3>Relative Strength Index</h3>
        <div id="rsi"></div>

        <h3>Combined</h3>
        <style>
            #indicators-combined g.moving-average path {
                stroke: red;
            }
        </style>
        <div id="indicators-combined"></div>
        <div id="indicators-combined-rsi"></div>
    </section>

    <section>
        <h2>Scale</h2>

        <h3>Date Time, Gridlines &amp; Linear (combined)</h3>

        <h4>fc.scale.dateTime &amp; fc.scale.linear</h4>
        <div id="fc-time-fc-linear"></div>

        <h4>fc.scale.dateTime (with weekends hidden) &amp; fc.scale.linear</h4>
        <div id="fc-time-fc-linear-hide-weekend"></div>

        <h4>d3.time.scale &amp; fc.scale.linear</h4>
        <div id="d3-time-fc-linear"></div>

        <h4>fc.scale.dateTime &amp; d3.scale.linear</h4>
        <div id="fc-time-d3-linear"></div>

        <h4>d3.time.scale &amp; d3.scale.linear</h4>
        <div id="d3-time-d3-linear"></div>
    </section>

    <section>
        <h2>Series</h2>

        <h3>Bar</h3>
        <h4>Static</h4>
        <style>
          #bar .bar-1 { fill: red; }
          #bar .bar-2 { fill: green; }
          #bar .bar-3 { fill: blue; }
          #bar .bar-4 { fill: yellow; }
          #bar .bar-5 { fill: purple; }
        </style>
        <div id="bar"></div>

        <h3>Stacked Bar</h3>
        <div id="stacked-bar"></div>

        <h4>Transitions</h4>
        <p>Demonstrates the bar series' and D3's axis support for transitions, including:</p>
        <ul>
            <li>Entering elements fade in</li>
            <li>Updating elements properties' animate (position, size)</li>
            <li>Exiting elements fade out</li>
            <li>Attributes set using decorate animate (the colour of each bar)</li>
        </ul>
        <p>The Y-axis values random integers in the range 0-100.
        The X-axis values are randomly added, removed and shuffled.</p>
        <div id="bar-transitions"></div>

        <h3>Candlestick</h3>
        <div id="candlestick"></div>

        <h3>Comparison</h3>
        <div id="comparison"></div>
        
        <h3>Line</h3>
        <div id="line"></div>

        <h3>OHLC</h3>
        <div id="ohlc"></div>
    </section>

    <section>
        <h2>Tools</h2>
        <h3>Annotation</h3>
        <div id="annotation"></div>

        <h3>Crosshairs</h3>
        <p>Demonstrates basic crosshairs functionality: snapping, padding, labels and decoration.
        <div id="crosshairs"></div>
        <p>Demonstrates crosshairs freezing, events and how they can be controlled.
        <div style="display:flex;height:300px">
            <div id="crosshairs-1" style="flex:1"></div>
            <form id="crosshairs-1-form" style="width:200px">
                <p>Container</p>
                <label>pointer-events (all/none)<input name="pointerevents" type="checkbox" checked/></label>
                <label>display (inherit/none)<input name="display" type="checkbox" checked/></label>
                <button name="clear">clear</button>
                <textarea name="eventlog" style="display:block;width:200px;height:200px"></textarea>
            </form>
        </div>
        <p>Demonstrates crosshairs with dynamic data across multiple charts.
        <div id="crosshairs-2">TODO</div>

        <h3>Fibonacci Fan</h3>
        <p>Demonstrates basic fan functionality: snapping, events and decoration.
        <div style="display:flex;height:300px">
            <div id="fan" style="flex:1"></div>
            <form id="fan-form" style="width:200px">
                <p>Container</p>
                <label>pointer-events (all/none)<input name="pointerevents" type="checkbox" checked/></label>
                <label>display (inherit/none)<input name="display" type="checkbox" checked/></label>
                <button name="clear">clear</button>
                <textarea name="eventlog" style="display:block;width:200px;height:200px"></textarea>
            </form>
        </div>

        <h3>Measure</h3>
        <p>Demonstrates basic measure functionality: snapping, padding, labels and decoration.
        <div id="measure"></div>
        <p>Demonstrates measure events and how they can be controlled.
        <div style="display:flex;height:300px">
            <div id="measure-1" style="flex:1"></div>
            <form id="measure-1-form" style="width:200px">
                <p>Container</p>
                <label>pointer-events (all/none)<input name="pointerevents" type="checkbox" checked/></label>
                <label>display (inherit/none)<input name="display" type="checkbox" checked/></label>
                <button name="clear">clear</button>
                <textarea name="eventlog" style="display:block;width:200px;height:200px"></textarea>
            </form>
        </div>
    </section>

    <section>
        <h2>Utilities</h2>
        <h3>Layout</h3>

        <div style="width: 600px; height: 350px; padding: 20px">
            <svg id="layout-test" style="height: 100%; width: 100%; margin: 10px">
                <g layout-css="height: 30; justifyContent: center; flexDirection: row">
                    <text layout-css="width: 0;" text-anchor="middle" dy="1em" font-size="20">
                        Awesome Chart Layout Example!</text>
                </g>
                <g layout-css="flex: 1; flexDirection: row; marginLeft: 20">
                    <g layout-css="flex: 1;" class="plotArea">
                        <rect layout-css="width: 150; height: 100; margin: 10; alignSelf: flex-end" fill="red"></rect>
                    </g>
                    <g layout-css="width: 50;" class="axis right"></g>
                    <g layout-css="width: 30; justifyContent: center;">
                        <g layout-css="height: 0;">
                            <text transform="rotate(90)">Price</text>
                        </g>
                    </g>
                </g>
                <g layout-css="height: 30; flexDirection: row">
                    <g layout-css="flex: 1; marginRight: 80; marginLeft: 20" class="axis bottom"></g>
                </g>
                <g layout-css="height: 30; justifyContent: center; flexDirection: row">
                    <text layout-css="width: 0; marginRight: 80" text-anchor="middle" dy="1em">Date</text>
                </g>
            </svg>
        </div>

        <h3>Chart Builder</h3>
        <p>The main purpose of chartBuilder is to simplify the logic required when
        resizing charts or update the data. This test resizes the chart container
        then asks the builder to render.
        <div id="chartBuilder"></div>
        <h3>Data Generator</h3>
        <h3>Time interval Width</h3>
        <h3>Value accessor</h3>
    </section>


    <section>
        <h2>Functional</h2>
        <h3>Update</h3>
        <p>A slightly crude test that the series correctly implement the data-join pattern. The series below has points added, removed and updated. A visual inspection of the
        SVG should show no un-expected elements.</p>
        <style>
            #update candlestick-series {
                opacity: 0.5;
            }
        </style>
        <div id="update"></div>

        <h3>Decorate</h3>
        <p>Tests decorate by performing a simple specialisation on each series type.</p>
        <div id="decorate"></div>

        <h3>Ordinal Axis</h3>
        <div id="ordinal-axis"></div>
    </section>

    <script src="../node_modules/d3/d3.js"></script>
    <script src="../node_modules/css-layout/src/Layout.js"></script>
    <script src="../dist/d3-financial-components.js"></script>

    <script src="test-scripts/indicators/bollingerBands.js"></script>
    <script src="test-scripts/indicators/movingAverage.js"></script>
    <script src="test-scripts/indicators/relativeStrengthIndex.js"></script>
    <script src="test-scripts/indicators/indicators-combined.js"></script>

    <script src="test-scripts/scale/fc-time-fc-linear.js"></script>
    <script src="test-scripts/scale/fc-time-fc-linear-hide-weekend.js"></script>
    <script src="test-scripts/scale/d3-time-fc-linear.js"></script>
    <script src="test-scripts/scale/fc-time-d3-linear.js"></script>
    <script src="test-scripts/scale/d3-time-d3-linear.js"></script>

    <script src="test-scripts/series/bar.js"></script>
    <script src="test-scripts/series/bar-transitions.js"></script>
    <script src="test-scripts/series/candlestick.js"></script>
    <script src="test-scripts/series/comparison.js"></script>
    <script src="test-scripts/series/line.js"></script>
    <script src="test-scripts/series/ohlc.js"></script>
    <script src="test-scripts/series/stacked-bar.js"></script>

    <script src="test-scripts/tools/annotation.js"></script>
    <script src="test-scripts/tools/crosshairs.js"></script>
    <script src="test-scripts/tools/crosshairs-1.js"></script>
    <script src="test-scripts/tools/fibonacciFan.js"></script>
    <script src="test-scripts/tools/measure.js"></script>
    <script src="test-scripts/tools/measure-1.js"></script>

    <script src="test-scripts/utilities/layout.js"></script>
    <script src="test-scripts/utilities/chartBuilder.js"></script>

    <script src="test-scripts/functional/update.js"></script>
    <script src="test-scripts/functional/decorate.js"></script>
    <script src="test-scripts/functional/ordinalAxis.js"></script>

    <script src="//localhost:35729/livereload.js"></script>
  </body>
</html>
