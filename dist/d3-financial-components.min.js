/*! d3-financial-components 11-12-2014 */

window.fc={version:"0.0.0",indicators:{},scale:{},series:{},tools:{},utilities:{}},function(a,b){"use strict";b.utilities.chartLayout=function(){var b={top:20,right:40,bottom:20,left:40},c=0,d=0,e=!0,f=!0,g=function(h){var i=h.node(),j=getComputedStyle(i);if(e===!0){var k=parseInt(j.paddingLeft,10)+parseInt(j.paddingRight,10);c=i.clientWidth-k,g.innerWidth()<1&&(c=800+b.left+b.right)}if(f===!0){var l=parseInt(j.paddingTop,10)+parseInt(j.paddingBottom,10);d=i.clientHeight-l,g.innerHeight()<1&&(d=400+b.top+b.bottom)}var m=a.select(i).append("svg").attr("width",c).attr("height",d),n=m.append("g").attr("class","chartArea").attr("transform","translate("+b.left+","+b.top+")");n.append("defs").append("clipPath").attr("id","plotAreaClip").append("rect").attr({width:g.innerWidth(),height:g.innerHeight()}),n.append("rect").attr("class","background").attr("width",g.innerWidth()).attr("height",g.innerHeight()),n.append("g").attr("clip-path","url(#plotAreaClip)").attr("class","plotArea"),n.append("g").attr("class","axis bottom").attr("transform","translate(0,"+g.innerHeight()+")"),n.append("g").attr("class","axis top").attr("transform","translate(0, 0)"),n.append("g").attr("class","axis left").attr("transform","translate(0, 0)"),n.append("g").attr("class","axis right").attr("transform","translate("+g.innerWidth()+", 0)")};return g.marginTop=function(a){return arguments.length?(b.top=a,g):b.top},g.marginRight=function(a){return arguments.length?(b.right=a,g):b.right},g.marginBottom=function(a){return arguments.length?(b.bottom=a,g):b.bottom},g.marginLeft=function(a){return arguments.length?(b.left=a,g):b.left},g.width=function(a){return arguments.length?(c=a,e=!1,g):c},g.height=function(a){return arguments.length?(d=a,f=!1,g):d},g.innerWidth=function(){return c-b.left-b.right},g.innerHeight=function(){return d-b.top-b.bottom},g.getSVG=function(a){return a.select("svg")},g.getChartArea=function(a){return g.getSVG(a).select(".chartArea")},g.getPlotArea=function(a){return g.getSVG(a).select(".plotArea")},g.getAxisContainer=function(a,b){return g.getSVG(a).select(".axis."+b)},g.getPlotAreaBackground=function(a){return g.getSVG(a).select(".chartArea rect.background")},g}}(d3,fc),function(a,b){"use strict";b.utilities.chartZoom=function(){var b=a.time.scale(),c=a.scale.linear(),d=100,e=100,f=a.behavior.zoom(),g=[],h=function(c){var g;f.x(b),c.each(function(){g=a.select(this).selectAll(".zoom-pane").data([0]),g.enter().append("rect").classed("zoom-pane",!0),g.attr({width:d,height:e}),g.call(f)})},i=function(){var a,b;g.forEach(function(c){a=c[0],b=c[1],a.zoom?a.zoom(b):b.call(a)})};return h.getZoomBehavior=function(){return f},h.components=function(a){return arguments.length?(g=a,h):g},h.xScale=function(a){return arguments.length?(b=a,h):b},h.yScale=function(a){return arguments.length?(c=a,h):c},h.width=function(a){return arguments.length?(d=a,h):d},h.height=function(a){return arguments.length?(e=a,h):e},f.on("zoom.chartZoomInternal",i),h}}(d3,fc),function(a){"use strict";a.utilities.dataGenerator=function(){var a=.1,b=.1,c=100,d=1e5,e=50,f=.3,g=new Date,h=new Date,i=!1,j=function(a){return!(0===a.getDay()||6===a.getDay())},k=function(d,e){var f,g=m(d,e,a,b),h=[];for(h[0]=c,f=1;f<g.length;f+=1)h[f]=h[f-1]*g[f];return h},l=function(a,b){var c,e=m(a,b,0,1),g=[];for(f=Math.max(0,Math.min(f,1)),g[0]=d,c=1;c<e.length;c+=1)g[c]=g[c-1]*e[c];return g=g.map(function(a){return Math.floor(a*(1-f+Math.random()*f*2))})},m=function(a,b,c,d){for(var e=[],f=a/b,g=Math.sqrt(f),h=0;b>h;h++){var j=i?o():n()[0];j*=g,j*=d,j+=(c-d*d/2)*f,e.push(Math.exp(j))}return e},n=function(){var a,b,c=0,d=0;do c=2*Math.random()-1,d=2*Math.random()-1,a=c*c+d*d;while(0===a||a>1);return b=Math.sqrt(-2*Math.log(a)/a),[c*b,d*b]},o=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},p=function(){for(var a,b,c,d=315569e5,f=(g.getTime()-h.getTime())/d,i=0,m=[],n=0,o=0,p=new Date(h.getTime());g>=p;)(!j||j(p))&&(i+=1),p.setUTCDate(p.getUTCDate()+1);for(a=k(f,i*e),b=l(f,i),p=new Date(h.getTime());g>=p;)(!j||j(p))&&(c=a.slice(o,o+e),m.push({date:new Date(p.getTime()),open:c[0],high:Math.max.apply({},c),low:Math.min.apply({},c),close:c[e-1],volume:b[n]}),o+=e,n+=1),p.setUTCDate(p.getUTCDate()+1);return m},q=function(){};return q.generate=function(){return p()},q.mu=function(b){return arguments.length?(a=b,q):a},q.sigma=function(a){return arguments.length?(b=a,q):b},q.startingPrice=function(a){return arguments.length?(c=a,q):c},q.startingVolume=function(a){return arguments.length?(d=a,q):d},q.intraDaySteps=function(a){return arguments.length?(e=a,q):e},q.volumeNoiseFactor=function(a){return arguments.length?(f=a,q):f},q.filter=function(a){return arguments.length?(j=a,q):j},q.toDate=function(a){return arguments.length?(g=a,q):g},q.fromDate=function(a){return arguments.length?(h=a,q):h},q}}(fc),function(a,b){"use strict";b.utilities.valueAccessor=function(a){return function(b){return b.hasOwnProperty(a)?b[a]:("object"==typeof console&&console.warn("The property with name "+a+" was not found on the data object"),0)}}}(d3,fc),function(a,b){"use strict";b.indicators.bollingerBands=function(){var c=a.time.scale(),d=a.scale.linear(),e=b.utilities.valueAccessor("close"),f=20,g=2,h="band-area",i="band-upper",j="band-lower",k="moving-average",l=function(b){var l=a.svg.area(),m=a.svg.line(),n=a.svg.line(),o=a.svg.line();l.x(function(a){return c(a.date)}),m.x(function(a){return c(a.date)}),n.x(function(a){return c(a.date)}),o.x(function(a){return c(a.date)});var p=function(a,b){if(0===f)return e(a[b]);for(var c=Math.min(f,b+1),d=b+1-c,g=0,h=d;b>=h;++h){var i=e(a[h]);g+=i}return g/c},q=function(a,b,c){if(0===f)return 0;for(var d=Math.min(f,b+1),g=b+1-d,h=0,i=g;b>=i;++i){var j=e(a[i]),k=j-c;h+=k*k}var l=h/d;return Math.sqrt(l)};b.each(function(b){for(var c={},e=0;e<b.length;++e){var r=b[e].date,s=p(b,e),t=q(b,e,s);c[r]={avg:s,sd:t}}l.y0(function(a){var b=c[a.date].avg,e=c[a.date].sd;return d(b+e*g)}),l.y1(function(a){var b=c[a.date].avg,e=c[a.date].sd;return d(b-e*g)}),m.y(function(a){var b=c[a.date].avg,e=c[a.date].sd;return d(b+e*g)}),n.y(function(a){var b=c[a.date].avg,e=c[a.date].sd;return d(b-e*g)}),o.y(function(a){var b=c[a.date].avg;return d(b)});for(var u=[],v=f;v<b.length;++v)u.push(b[v]);var w=a.select(this).selectAll(".bollinger-series").data([b]);w.enter().append("g").classed("bollinger-series",!0);var x=w.selectAll("."+h).data([u]),y=w.selectAll("."+i).data([u]),z=w.selectAll("."+j).data([u]),A=w.selectAll("."+k).data([u]);x.enter().append("path"),y.enter().append("path"),z.enter().append("path"),A.enter().append("path"),x.attr("d",l).classed(h,!0),y.attr("d",m).classed(i,!0),z.attr("d",n).classed(j,!0),A.attr("d",o).classed(k,!0),x.exit().remove(),y.exit().remove(),z.exit().remove(),A.exit().remove()})};return l.xScale=function(a){return arguments.length?(c=a,l):c},l.yScale=function(a){return arguments.length?(d=a,l):d},l.yValue=function(a){return arguments.length?(e=a,l):e},l.movingAverage=function(a){return arguments.length?(a>=0&&(f=a),l):f},l.standardDeviations=function(a){return arguments.length?(a>=0&&(g=a),l):g},l}}(d3,fc),function(a,b){"use strict";b.indicators.movingAverage=function(){var c=a.time.scale(),d=a.scale.linear(),e=b.utilities.valueAccessor("close"),f=5,g="moving-average",h=function(b){var h=a.svg.line();h.defined(function(a,b){return b>=f}),h.x(function(a){return c(a.date)}),b.each(function(b){h.y(0===f?function(a){return d(e(a))}:function(a,c){for(var g=c+1-f,h=0,i=g;c>=i;++i)h+=e(b[i]);var j=h/f;return d(j)});var c=a.select(this).selectAll("."+g).data([b]);c.enter().append("g").classed(g,!0);var i=c.selectAll("path").data([b]);i.enter().append("path"),i.attr("d",h).classed(g,!0),i.exit().remove()})};return h.xScale=function(a){return arguments.length?(c=a,h):c},h.yScale=function(a){return arguments.length?(d=a,h):d},h.yValue=function(a){return arguments.length?(e=a,h):e},h.averagePoints=function(a){return arguments.length?(a>=0&&(f=a),h):f},h}}(d3,fc),function(a,b){"use strict";b.indicators.rsi=function(){var c=a.time.scale(),d=a.scale.linear(),e=14,f=70,g=30,h=1,i="rsi",j=b.utilities.valueAccessor("close"),k=null,l=null,m=null,n=function(b){b.selectAll(".marker").remove(),k=b.append("line").attr("class","marker upper").attr("x1",c.range()[0]).attr("y1",d(f)).attr("x2",c.range()[1]).attr("y2",d(f)),l=b.append("line").attr("class","marker centre").attr("x1",c.range()[0]).attr("y1",d(50)).attr("x2",c.range()[1]).attr("y2",d(50)),m=b.append("line").attr("class","marker lower").attr("x1",c.range()[0]).attr("y1",d(g)).attr("x2",c.range()[1]).attr("y2",d(g));var n=a.svg.line();n.x(function(a){return c(a.date)}),b.each(function(b){n.y(0===e?function(){return d(0)}:function(c,f){var g=f-e,i=f,k=[],l=[];1>g&&(g=1);for(var m=i;m>=g;m--){var n=b[m],o=b[m-1],p=Math.pow(h,m);k.push(j(n)>j(o)?(j(n)-j(o))*p:0),l.push(j(n)<j(o)?(j(o)-j(n))*p:0)}if(k.length<=0||l.length<=0)return d(0);var q=100-100/(1+a.mean(k)/a.mean(l));return d(q)});var c=a.select(this).selectAll("."+i).data([b]);c.enter().append("path"),c.attr("d",n).classed(i,!0),c.exit().remove()})};return n.xScale=function(a){return arguments.length?(c=a,n):c},n.yScale=function(a){return arguments.length?(d=a,n):d},n.samplePeriods=function(a){return arguments.length?(e=0>a?0:a,n):e},n.upperMarker=function(a){return arguments.length?(f=a>100?100:0>a?0:a,n):f},n.lowerMarker=function(a){return arguments.length?(g=a>100?100:0>a?0:a,n):g},n.lambda=function(a){return arguments.length?(h=a>1?1:0>a?0:a,n):h},n.yValue=function(a){return arguments.length?(j=a,n):j},n}}(d3,fc),function(a,b){"use strict";function c(b,d,e,f){function g(a){var c=0;c=b("number"==typeof a?a:i(a));var d=Math.round(c);return e?c>d?d+.5:d-.5:c}function h(a){for(var b=new Date(a[0].getFullYear(),a[0].getMonth(),a[0].getDate(),0,0,0),c=new Date(a[1].getFullYear(),a[1].getMonth(),a[1].getDate()+2,0,0,0);1!==b.getDay();)b.setDate(b.getDate()-1);return[b,c]}function i(a){var b=0,c=5922e5,e=1728e5;if(f){0===a.getDay()&&a.setDate(a.getDate()+1),6===a.getDay()&&a.setDate(a.getDate()-1);var g=Math.floor((a.getTime()-d[0].getTime())/c);b=a.getTime()-d[0].getTime()-e*g}else b=a.getTime()-d[0].getTime();return b}function j(a){var b=new Date(0),c=432e6,e=1728e5;if(f){var g=Math.floor(a/c);b=new Date(d[0].getTime()+a+e*g)}else b=new Date(d[0].getTime()+a);return b}function k(a,b){return a=b>0?new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),b,0):new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),0)}function l(a,b){return a=b>0?new Date(a.getFullYear(),a.getMonth(),a.getDate(),b,0,0):new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),0,0)}function m(a){return a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0)}function n(a){for(a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);a.getDay()>0;)a.setDate(a.getDate()-1);return a}function o(a){return a=new Date(a.getFullYear(),a.getMonth(),1,0,0,0)}function p(a){return a=new Date(a.getFullYear(),0,1,0,0,0)}return arguments.length||(b=a.scale.linear(),d=[new Date(0),new Date(0)],e=!0,f=!1),g.domain=function(a){return arguments.length?("number"==typeof a[0]?b.domain(a):(d=h(a),b.domain([i(d[0]),i(d[1])])),g):[i(d[0]),i(d[1])]},g.invert=function(a){return j(b.invert(a))},g.copy=function(){return c(b.copy(),d,e,f)},g.ticks=function(a){return arguments.length?function(){var b=[],c=[],e=(d[1].getTime()-d[0].getTime())/a,f=new Date(e),g=new Date(d[0].getTime()),h=function(a){return a.setSeconds(a.getSeconds()+1),a};12*(f.getFullYear()-1970)+f.getMonth()>=8?(g=p(g),h=function(a){return a.setFullYear(a.getFullYear()+1),a}):12*(f.getFullYear()-1970)+f.getMonth()>=4?(g=o(g),h=function(a){return a.setMonth(a.getMonth()+8),a}):12*(f.getFullYear()-1970)+f.getMonth()>=2?(g=o(g),h=function(a){return a.setMonth(a.getMonth()+4),a}):12*(f.getFullYear()-1970)+f.getMonth()>=1?(g=o(g),h=function(a){return a.setMonth(a.getMonth()+2),a}):e>=6048e5?(g=o(g),h=function(a){return a.setMonth(a.getMonth()+1),a}):e>=864e5?(g=n(g),h=function(a){return a.setDate(a.getDate()+7),a}):e>=432e5?(g=m(g),h=function(a){return a.setDate(a.getDate()+1),a}):e>=288e5?(g=l(g,12),h=function(a){return a.setHours(a.getHours()+12),a}):e>=144e5?(g=l(g,8),h=function(a){return a.setHours(a.getHours()+8),a}):e>=72e5?(g=l(g,4),h=function(a){return a.setHours(a.getHours()+4),a}):e>=36e5?(g=l(g,4),h=function(a){return a.setHours(a.getHours()+2),a}):e>=9e5?(g=l(g,0),h=function(a){return a.setHours(a.getHours()+1),a}):e>=6e4?(g=k(g,15),h=function(a){return a.setMinutes(a.getMinutes()+15),a}):e>=1e3&&(g=k(g,0),h=function(a){return a.setMinutes(a.getMinutes()+1),a});for(var j=g;j.getTime()<=d[1].getTime();)c.push(i(j)),b.push(new Date(j.getTime())),j=h(j);return c}:b.ticks()},g.tickFormat=function(){return function(b){return a.time.format("%a, %e %b")(j(b))}},g.hideWeekends=function(a){return arguments.length?(f=a,g):f},g.alignPixels=function(a){return arguments.length?(e=a,g):e},a.rebind(g,b,"range","rangeRound","interpolate","clamp","nice")}b.scale.dateTime=function(){return c()}}(d3,fc),function(a,b){"use strict";b.scale.gridlines=function(){var b=a.time.scale(),c=a.scale.linear(),d=10,e=10,f=function(a,d){var e=d.selectAll(".x").data(a);e.enter().append("line").attr({"class":"x",x1:function(a){return b(a)},x2:function(a){return b(a)},y1:c.range()[0],y2:c.range()[1]}),e.attr({x1:function(a){return b(a)},x2:function(a){return b(a)},y1:c.range()[0],y2:c.range()[1]}),e.exit().remove()},g=function(a,d){var e=d.selectAll(".y").data(a);e.enter().append("line").attr({"class":"y",x1:b.range()[0],x2:b.range()[1],y1:function(a){return c(a)},y2:function(a){return c(a)}}),e.attr({x1:b.range()[0],x2:b.range()[1],y1:function(a){return c(a)},y2:function(a){return c(a)}}),e.exit().remove()},h=function(h){var i,j,k;h.each(function(){j=b.ticks(d),k=c.ticks(e),i=a.select(this).selectAll(".gridlines").data([[j,k]]),i.enter().append("g").classed("gridlines",!0),f(j,i),g(k,i)})};return h.xScale=function(a){return arguments.length?(b=a,h):b},h.yScale=function(a){return arguments.length?(c=a,h):c},h.xTicks=function(a){return arguments.length?(d=a,h):d},h.yTicks=function(a){return arguments.length?(e=a,h):e},h}}(d3,fc),function(a,b){"use strict";function c(b){function d(a){var c=b(a),d=Math.round(c);return e?c>d?d+.5:d-.5:c}var e=!0;return arguments.length||(b=a.scale.linear()),d.copy=function(){return c(b.copy())},d.domain=function(a){return b.domain(a),d},d.ticks=function(a){return b.ticks(a)},d.invert=function(a){return b.invert(a)},d.alignPixels=function(a){return arguments.length?(e=a,d):e},a.rebind(d,b,"range","rangeRound","interpolate","clamp","nice")}b.scale.linear=function(){return c()}}(d3,fc),function(a,b){"use strict";b.series.bar=function(){var c=a.time.scale(),d=a.scale.linear(),e=5,f=b.utilities.valueAccessor("volume"),g=function(){return""},h=function(b){var h,i;b.each(function(b){i=a.select(this).selectAll(".bar-series").data([b]),i.enter().append("g").classed("bar-series",!0),h=i.selectAll("rect").data(b),h.enter().append("rect"),h.exit().remove(),h.attr("x",function(a){return c(a.date)-e/2}).attr("y",function(a){return d(f(a))}).attr("width",e).attr("height",function(a){return d(0)-d(f(a))}).attr("class",g)})};return h.xScale=function(a){return arguments.length?(c=a,h):c},h.yScale=function(a){return arguments.length?(d=a,h):d},h.barWidth=function(a){return arguments.length?(e=a,h):e},h.yValue=function(a){return arguments.length?(f=a,h):f},h.classForBar=function(a){return arguments.length?(g=a,h):g},h}}(d3,fc),function(a,b){"use strict";b.series.candlestick=function(){var c=a.time.scale(),d=a.scale.linear(),e=b.utilities.valueAccessor("open"),f=b.utilities.valueAccessor("high"),g=b.utilities.valueAccessor("low"),h=b.utilities.valueAccessor("close"),i=5,j=function(a){return h(a)>e(a)},k=function(a){return!j(a)},l=a.svg.line().x(function(a){return a.x}).y(function(a){return a.y}),m=function(a){var b=a.selectAll(".high-low-line").data(function(a){return[a]});b.enter().append("path"),b.classed("high-low-line",!0).attr("d",function(a){return l([{x:c(a.date),y:d(f(a))},{x:c(a.date),y:d(g(a))}])})},n=function(a){var b;b=a.selectAll("rect").data(function(a){return[a]}),b.enter().append("rect"),b.attr("x",function(a){return c(a.date)-i/2}).attr("y",function(a){return d(j(a)?h(a):e(a))}).attr("width",i).attr("height",function(a){return j(a)?d(e(a))-d(h(a)):d(h(a))-d(e(a))})},o=function(b){var c,d;b.each(function(b){c=a.select(this).selectAll(".candlestick-series").data([b]),c.enter().append("g").classed("candlestick-series",!0),d=c.selectAll(".bar").data(b,function(a){return a.date}),d.enter().append("g").classed("bar",!0),d.classed({"up-day":j,"down-day":k}),m(d),n(d),d.exit().remove()})};return o.zoom=function(b){b.selectAll(".candlestick-series").attr("transform","translate("+a.event.translate[0]+",0)scale("+a.event.scale+",1)")},o.xScale=function(a){return arguments.length?(c=a,o):c},o.yScale=function(a){return arguments.length?(d=a,o):d},o.rectangleWidth=function(a){return arguments.length?(i=a,o):i},o.yOpen=function(a){return arguments.length?(e=a,o):e},o.yHigh=function(a){return arguments.length?(f=a,o):f},o.yLow=function(a){return arguments.length?(g=a,o):g},o.yClose=function(a){return arguments.length?(h=a,o):h},o}}(d3,fc),function(a,b){"use strict";b.series.comparison=function(){var b,c,d=a.time.scale(),e=a.scale.linear(),f=function(a,b){var c=a.domain(),d=b.domain(),e=(c[1]-c[0])/(d[1]-d[0]),f=e*(a.range()[1]-a(d[1]));return{translate:f,scale:e}},g=function(b,c){var d=a.bisector(function(a){return a.date}).left,e=d(b,c);return 0===e&&(e+=1),e},h=function(a,b){var c=g(a,b)-1,d=a[c].close;return a.map(function(a){return{date:a.date,change:a.close/d-1}})},i=function(a,b){var c=g(a,b)-1,d=a[c].change;return a.map(function(a){return{date:a.date,change:a.change-d}})},j=function(b,c){var d,e;b=b.map(function(a){return a=a.data,d=g(a,c[0])-1,e=g(a,c[1])+1,a.slice(d,e)});var f=b.reduce(function(a,b){return a.concat(b)},[]);return f.length?a.extent(f,function(a){return a.change}):[0,0]},k=a.scale.category10(),l=a.svg.line().interpolate("linear").x(function(a){return d(a.date)}).y(function(a){return e(a.change)}),m=function(f){var g,i;f.each(function(f){f=f.map(function(a){return{name:a.name,data:h(a.data,d.domain()[0])}}),b=f,k.domain(f.map(function(a){return a.name})),e.domain(j(f,d.domain())),c=e.copy(),g=a.select(this).selectAll(".comparison-series").data([f]),g.enter().append("g").classed("comparison-series",!0),i=g.selectAll(".line").data(f,function(a){return a.name}).enter().append("path").attr("class",function(a){return"line line"+f.indexOf(a)}).attr("d",function(a){return l(a.data)}).style("stroke",function(a){return k(a.name)}),g.selectAll(".line").attr("d",function(a){return l(a.data)})})};return m.geometricZoom=function(a,h,k){var l,m,n=function(a){var b=c(0)-c(a);return b*=m.scale,b+=m.translate,"translate("+h+","+b+") scale("+k+","+m.scale+")"},o=b.map(function(a){return{name:a.name,data:i(a.data,d.domain()[0])}});e.domain(j(o,d.domain())),m=f(c,e),b=b.map(function(a){return l=g(a.data,d.domain()[0])-1,{name:a.name,data:a.data,transform:n(a.data[l].change)}}),a.selectAll(".line").data(b).attr("transform",function(a){return a.transform})},m.xScale=function(a){return arguments.length?(d=a,m):d},m.yScale=function(a){return arguments.length?(e=a,m):e},m}}(d3,fc),function(a,b){"use strict";b.series.line=function(){var c=b.utilities.valueAccessor("close"),d=b.scale.dateTime(),e=b.scale.linear(),f=!0,g="line-series",h=function(b){var h;f&&(h=a.svg.area().x(function(a){return d(a.date)}).y0(e(0)));var i=a.svg.line();i.x(function(a){return d(a.date)}),b.each(function(b){var d=a.select(this).selectAll("."+g).data([b]);if(d.enter().append("g").classed(g,!0),f){h.y1(function(a){return e(c(a))});var j=d.selectAll(".area").data([b]);j.enter().append("path"),j.attr("d",h).classed("area",!0),j.exit().remove()}i.y(function(a){return e(c(a))});var k=d.selectAll(".line").data([b]);k.enter().append("path"),k.attr("d",i).classed("line",!0),k.exit().remove()})};return h.yValue=function(a){return arguments.length?(c=a,h):c},h.xScale=function(a){return arguments.length?(d=a,h):d},h.yScale=function(a){return arguments.length?(e=a,h):e},h.underFill=function(a){return arguments.length?(f=a,h):f},h}}(d3,fc),function(a,b){"use strict";b.series.ohlc=function(c){var d,e=a.time.scale(),f=a.scale.linear(),g=5,h=b.utilities.valueAccessor("open"),i=b.utilities.valueAccessor("high"),j=b.utilities.valueAccessor("low"),k=b.utilities.valueAccessor("close"),l=function(a){return f(h(a))},m=function(a){return f(i(a))},n=function(a){return f(j(a))},o=function(a){return f(k(a))},p=function(a){return e(a.date)},q=function(a){return k(a)>h(a)},r=function(a){return k(a)<h(a)},s=function(a){return k(a)===h(a)},t=function(a){return q(a)?"green":r(a)?"red":"black"},u=function(a){var b="M"+p(a)+","+n(a),c="V"+m(a),d="M"+p(a)+","+l(a)+"h"+-g,e="M"+p(a)+","+o(a)+"h"+g;return b+c+d+e},v=function(a){var b="M0,0";return a.forEach(function(a){b+=u(a)}),b},w=function(a,b,c,d,e){var f,g=d.filter(function(a){return e(a)});f=a.selectAll("."+b).data([g]),f.enter().append("path").classed(b,!0),f.attr("d",v(g)).attr("stroke",c),f.exit().remove()},x=function(b,c){var d=a.select(b).selectAll(".ohlc-series").data([c]);return d.enter().append("g").classed("ohlc-series",!0),d},y=function(a){a.each(function(a){var b=x(this,a),c=b.selectAll(".bar").data(a,function(a){return a.date}),d=c.enter().append("g").classed("bar",!0);d.append("line").classed("high-low-line",!0),d.append("line").classed("open-tick",!0),d.append("line").classed("close-tick",!0),c.classed({"up-day":q,"down-day":r,"static-day":s}),c.attr("stroke",t),c.select(".high-low-line").attr({x1:p,y1:n,x2:p,y2:m}),c.select(".open-tick").attr({x1:function(a){return p(a)-g},y1:l,x2:p,y2:l}),c.select(".close-tick").attr({x1:p,y1:o,x2:function(a){return p(a)+g},y2:o}),c.exit().remove()})},z=function(a){a.each(function(a){var b=x(this,a),c=b.selectAll(".bar").data(a,function(a){return a.date});c.enter().append("path").classed("bar",!0),c.classed({"up-day":q,"down-day":r,"static-day":s}),c.attr({stroke:t,d:u}),c.exit().remove()})},A=function(a){a.each(function(a){var b=x(this,a);w(b,"up-day","green",a,q),w(b,"down-day","red",a,r),w(b,"static-day","black",a,s)})};switch(c){case"line":d=y;break;case"path":d=z;break;case"paths":d=A;break;default:d=z}return d.xScale=function(a){return arguments.length?(e=a,d):e},d.yScale=function(a){return arguments.length?(f=a,d):f},d.tickWidth=function(a){return arguments.length?(g=a,d):g},d.yOpen=function(a){return arguments.length?(h=a,d):h},d.yHigh=function(a){return arguments.length?(i=a,d):i},d.yLow=function(a){return arguments.length?(j=a,d):j},d.yClose=function(a){return arguments.length?(k=a,d):k},d}}(d3,fc),function(a,b){"use strict";b.tools.annotation=function(){var b=0,c=a.time.scale(),d=a.scale.linear(),e="",f=0,g=2,h=function(a){return a},i=null,j=null,k=null,l=function(a){i=a.append("g").attr("id","annotation_"+b).attr("class","annotation"),j=i.append("line").attr("class","marker").attr("x1",c.range()[0]).attr("y1",d(f)).attr("x2",c.range()[1]).attr("y2",d(f)),k=i.append("text").attr("class","callout").attr("x",c.range()[1]-g).attr("y",d(f)-g).attr("style","text-anchor: end;").text(e+": "+h(f))};return l.index=function(a){return arguments.length?(b=a,l):b},l.xScale=function(a){return arguments.length?(c=a,l):c},l.yScale=function(a){return arguments.length?(d=a,l):d},l.yValue=function(a){return arguments.length?(f=a,l):f},l.yLabel=function(a){return arguments.length?(e=a,l):e},l.padding=function(a){return arguments.length?(g=a,l):g},l.formatCallout=function(a){return arguments.length?(h=a,l):h},l}}(d3,fc),function(a,b){"use strict";b.tools.callouts=function(){var b=a.time.scale(),c=a.scale.linear(),d=5,e=5,f=0,g=20,h=20,i=50,j="callout",k=[],l=null,m=[],n=0,o=function(a,b){return!(b.left>a.right||b.right<a.left||b.top>a.bottom||b.bottom<a.top)},p=function(){if(m){var a=m.sort(function(a,b){return a.y<b.y?-1:a.y>b.y?1:0});n=g;for(var b=0;b<a.length;b++){var c=i*Math.sin(n*(Math.PI/180));a[b].x+=c;var f=i*Math.cos(n*(Math.PI/180));a[b].y-=f,n+=h}for(var j=0;j<a.length;j++)for(var k=j+1;k<a.length;k++)if(a[j].left||(a[j].left=function(){return this.x-d},a[j].right=function(){return this.x+this.width+d},a[j].bottom=function(){return this.y+this.height+d},a[j].top=function(){return this.y-d}),a[k].left||(a[k].left=function(){return this.x-d},a[k].right=function(){return this.x+this.width+d},a[k].bottom=function(){return this.y+this.height+d},a[k].top=function(){return this.y-d}),o(a[j],a[k])){var l=0,p=a[k].right()-a[j].left(),q=a[j].right()-a[k].left();p>q&&(l=1);var r=a[j].bottom()-a[k].top();q>r&&p>r&&(l=2),0===l?a[k].x-=p+e:1===l?a[k].x+=q+e:2===l&&(a[k].y+=r+e)}m=a}},q=function(a){var e=a.selectAll("g").data(k).enter().append("g").attr("transform",function(a){return"translate("+b(a.x)+","+c(a.y)+")"}).attr("class",function(a){return a.css?a.css:j});e.append("text").attr("style","text-anchor: left;").text(function(a){return a.label}),e.insert("rect",":first-child").attr("x",function(){return-d-f}).attr("y",function(a){return l=this.parentNode.getBBox(),l.x=b(a.x),l.y=c(a.y),m.push(l),-l.height}).attr("width",function(){return l.width+2*d+2*f}).attr("height",function(){return l.height+2*d}).attr("rx",f).attr("ry",f),p();var g=0;e.attr("transform",function(){return"translate("+m[g].x+","+m[g++].y+")"}),e=a.selectAll("g").data(k).exit()};return q.addCallout=function(a){return k.push(a),q},q.xScale=function(a){return arguments.length?(b=a,q):b},q.yScale=function(a){return arguments.length?(c=a,q):c},q.padding=function(a){return arguments.length?(d=a,q):d},q.spacing=function(a){return arguments.length?(e=a,q):e},q.rounded=function(a){return arguments.length?(f=a,q):f},q.stalkLength=function(a){return arguments.length?(i=a,q):i},q.rotationStart=function(a){return arguments.length?(g=a,q):g},q.rotationSteps=function(a){return arguments.length?(h=a,q):h},q.css=function(a){return arguments.length?(j=a,q):j},q}}(d3,fc),function(a,b){"use strict";b.tools.crosshairs=function(){function b(){o&&z.update()}function c(){o&&z.clear()}function d(){p&&z.active(!o)}function e(a){var b=null,c=Number.MAX_VALUE;return i.forEach(function(d){var e=Math.abs(a-j(d.date));c>e&&(c=e,b=d)}),b}function f(a,b){var c=null,d=Number.MAX_VALUE;for(var e in b)if(b.hasOwnProperty(e)&&"date"!==e){var f=Math.abs(a-k(b[e]));d>=f&&(d=f,c=e)}return b[c]}function g(){var a=j(x.date),b=k(y);s.attr("y1",b).attr("y2",b),t.attr("x1",a).attr("x2",a),u.attr("cx",a).attr("cy",b),v.attr("y",b-q).text(m(y)),w.attr("x",a-q).text(n(x.date)),s.attr("display","inherit"),t.attr("display","inherit"),u.attr("display","inherit"),v.attr("display","inherit"),w.attr("display","inherit")}var h=null,i=null,j=a.time.scale(),k=a.scale.linear(),l=null,m=null,n=null,o=!0,p=!0,q=2,r=null,s=null,t=null,u=null,v=null,w=null,x=null,y=null,z=function(){var a=h.append("g").attr("class","crosshairs");s=a.append("line").attr("class","crosshairs horizontal").attr("x1",j.range()[0]).attr("x2",j.range()[1]).attr("display","none"),t=a.append("line").attr("class","crosshairs vertical").attr("y1",k.range()[0]).attr("y2",k.range()[1]).attr("display","none"),u=a.append("circle").attr("class","crosshairs circle").attr("r",6).attr("display","none"),v=a.append("text").attr("class","crosshairs callout horizontal").attr("x",j.range()[1]-q).attr("style","text-anchor: end").attr("display","none"),w=a.append("text").attr("class","crosshairs callout vertical").attr("y","1em").attr("style","text-anchor: end").attr("display","none")};return z.update=function(){if(o){var b=[0,0];try{b=a.mouse(h[0][0])}catch(c){}var d=e(b[0]);if(null!==d){var i=null;i=l?l(d):f(b[1],d),(d!==x||i!==y)&&(x=d,y=i,g(),r&&r(x))}}else g()},z.clear=function(){x=null,y=null,s.attr("display","none"),t.attr("display","none"),u.attr("display","none"),v.attr("display","none"),w.attr("display","none")},z.target=function(a){return arguments.length?(h&&(h.on("mousemove.crosshairs",null),h.on("mouseout.crosshairs",null),h.on("click.crosshairs",null)),h=a,h.on("mousemove.crosshairs",b),h.on("mouseout.crosshairs",c),h.on("click.crosshairs",d),z):h},z.series=function(a){return arguments.length?(i=a,z):i},z.xScale=function(a){return arguments.length?(j=a,z):j},z.yScale=function(a){return arguments.length?(k=a,z):k},z.yValue=function(a){return arguments.length?(l=a,z):l},z.formatH=function(a){return arguments.length?(m=a,z):m},z.formatV=function(a){return arguments.length?(n=a,z):n},z.active=function(a){return arguments.length?(o=a,s.classed("frozen",!o),t.classed("frozen",!o),u.classed("frozen",!o),z):o},z.freezable=function(a){return arguments.length?(p=a,z):p},z.padding=function(a){return arguments.length?(q=a,z):q},z.onSnap=function(a){return arguments.length?(r=a,z):r},z.highlightedPoint=function(){return x},z}}(d3,fc),function(a,b){"use strict";b.tools.fibonacciFan=function(){function b(){if(o)switch(w){case 1:x=d(),x&&(z.update(),p.attr("display","inherit"));break;case 2:y=d(),y&&(z.update(),q.attr("display","inherit"),r.attr("display","inherit"));break;case 3:}}function c(){if(o)switch(w){case 1:w=2;break;case 2:g(),w=3;break;case 3:h(),w=1}}function d(){var b=[0,0];try{b=a.mouse(k[0][0])}catch(c){}var d=m.invert(b[0]),g=n.invert(b[1]),h=e(d);if(null!==h){var i=f(g,h);if(null!==i)return{point:h,field:i}}return null}function e(a){var b=null,c=Number.MAX_VALUE;return l.forEach(function(d){var e=Math.abs(a.getTime()-d.date.getTime());c>e&&(c=e,b=d)}),b}function f(a,b){var c=null,d=Number.MAX_VALUE;for(var e in b)if(b.hasOwnProperty(e)&&"date"!==e){var f=Math.abs(a-b[e]);d>=f&&(d=f,c=e)}return c}function g(){if(m(x.point.date)>m(y.point.date)){var a=x;x=y,y=a}var b=m(x.point.date),c=n(x.point[x.field]),d=m(y.point.date),e=n(y.point[y.field]),f=m.range()[1],g=i(b,c,d,e,f);if(g){j(b,c,f,g.source,g.source,g.source),s.attr("display","inherit"),t.attr("display","inherit"),u.attr("display","inherit"),v.attr("display","inherit");var h=b+","+c+" "+f+","+g.a+" "+f+","+g.c;s.transition().attr("y2",g.a),t.transition().attr("y2",g.b),u.transition().attr("y2",g.c),v.transition().attr("points",h)}p.attr("display","none"),q.attr("display","none")}function h(){x=null,y=null,p.attr("display","none"),q.attr("display","none"),r.attr("display","none"),s.attr("display","none"),t.attr("display","none"),u.attr("display","none"),v.attr("display","none")}function i(a,b,c,d,e){if(a===c)return null;var f=(d-b)/(c-a),g=f*(e-a)+b,h=.618*f*(e-a)+b,i=.5*f*(e-a)+b,j=.382*f*(e-a)+b;return{source:g,a:h,b:i,c:j}}function j(a,b,c,d,e,f){var g=a+","+b+" "+c+","+d+" "+c+","+f;s.attr("x1",a).attr("y1",b).attr("x2",c).attr("y2",d),t.attr("x1",a).attr("y1",b).attr("x2",c).attr("y2",e),u.attr("x1",a).attr("y1",b).attr("x2",c).attr("y2",f),v.attr("points",g)}var k=null,l=null,m=a.time.scale(),n=a.scale.linear(),o=!0,p=null,q=null,r=null,s=null,t=null,u=null,v=null,w=1,x=null,y=null,z=function(){var a=k.append("g").attr("class","fibonacci-fan");p=a.append("circle").attr("class","fibonacci-fan origin").attr("r",6).attr("display","none"),q=a.append("circle").attr("class","fibonacci-fan target").attr("r",6).attr("display","none"),r=a.append("line").attr("class","fibonacci-fan source").attr("display","none"),s=a.append("line").attr("class","fibonacci-fan a").attr("display","none"),t=a.append("line").attr("class","fibonacci-fan b").attr("display","none"),u=a.append("line").attr("class","fibonacci-fan c").attr("display","none"),v=a.append("polygon").attr("class","fibonacci-fan area").attr("display","none")};return z.update=function(){if(x){var a=m(x.point.date),b=n(x.point[x.field]);if(p.attr("cx",a).attr("cy",b),r.attr("x1",a).attr("y1",b),y&&1!==w){var c=m(y.point.date),d=n(y.point[y.field]);if(q.attr("cx",c).attr("cy",d),r.attr("x2",c).attr("y2",d),3===w){var e=m.range()[1],f=i(a,b,c,d,e);f&&j(a,b,e,f.a,f.b,f.c)}}}},z.visible=function(a){if(a)switch(w){case 1:p.attr("display","inherit");break;case 2:p.attr("display","inherit"),q.attr("display","inherit"),r.attr("display","inherit");
break;case 3:r.attr("display","inherit"),s.attr("display","inherit"),t.attr("display","inherit"),u.attr("display","inherit"),v.attr("display","inherit")}else p.attr("display","none"),q.attr("display","none"),r.attr("display","none"),s.attr("display","none"),t.attr("display","none"),u.attr("display","none"),v.attr("display","none")},z.target=function(a){return arguments.length?(k&&(k.on("mousemove.fibonacci-fan",null),k.on("click.fibonacci-fan",null)),k=a,k.on("mousemove.fibonacci-fan",b),k.on("click.fibonacci-fan",c),z):k},z.series=function(a){return arguments.length?(l=a,z):l},z.xScale=function(a){return arguments.length?(m=a,z):m},z.yScale=function(a){return arguments.length?(n=a,z):n},z.active=function(a){return arguments.length?(o=a,z):o},z}}(d3,fc),function(a,b){"use strict";b.tools.measure=function(){function b(){if(m)switch(x){case 1:y=d(),y&&(A.update(),q.attr("display","inherit"));break;case 2:z=d(),z&&(A.update(),r.attr("display","inherit"),s.attr("display","inherit"));break;case 3:}}function c(){if(m)switch(x){case 1:x=2;break;case 2:g(),x=3;break;case 3:h(),x=1}}function d(){var b=[0,0];try{b=a.mouse(i[0][0])}catch(c){}var d=k.invert(b[0]),g=l.invert(b[1]),h=e(d);if(null!==h){var j=f(g,h);if(null!==j)return{point:h,field:j}}return null}function e(a){var b=null,c=Number.MAX_VALUE;return j.forEach(function(d){var e=Math.abs(a.getTime()-d.date.getTime());c>e&&(c=e,b=d)}),b}function f(a,b){var c=null,d=Number.MAX_VALUE;for(var e in b)if(b.hasOwnProperty(e)&&"date"!==e){var f=Math.abs(a-b[e]);d>=f&&(d=f,c=e)}return c}function g(){var a=k(y.point.date),b=l(y.point[y.field]),c=k(z.point.date),d=l(z.point[z.field]);t.attr("x1",a).attr("y1",b).attr("x2",c).attr("y2",b),u.attr("x1",c).attr("y1",b).attr("x2",c).attr("y2",d);var e=z.field;v.attr("x",c-n).attr("y",b-(b-d)/2).text(p(Math.abs(z.point[e]-y.point[e]))),w.attr("y",b-n).attr("x",a+(c-a)/2).text(o(Math.abs(z.point.date.getTime()-y.point.date.getTime()))),t.attr("display","inherit"),u.attr("display","inherit"),v.attr("display","inherit"),w.attr("display","inherit"),q.attr("display","none"),r.attr("display","none")}function h(){y=null,z=null,q.attr("display","none"),r.attr("display","none"),s.attr("display","none"),t.attr("display","none"),u.attr("display","none"),v.attr("display","none"),w.attr("display","none")}var i=null,j=null,k=a.time.scale(),l=a.scale.linear(),m=!0,n=2,o=function(a){return a},p=function(a){return a},q=null,r=null,s=null,t=null,u=null,v=null,w=null,x=1,y=null,z=null,A=function(){var a=i.append("g").attr("class","measure");q=a.append("circle").attr("class","measure origin").attr("r",6).attr("display","none"),r=a.append("circle").attr("class","measure target").attr("r",6).attr("display","none"),s=a.append("line").attr("class","measure source").attr("display","none"),t=a.append("line").attr("class","measure x").attr("display","none"),u=a.append("line").attr("class","measure y").attr("display","none"),v=a.append("text").attr("class","measure callout horizontal").attr("style","text-anchor: end").attr("display","none"),w=a.append("text").attr("class","measure callout vertical").attr("style","text-anchor: middle").attr("display","none")};return A.update=function(){if(y){var a=k(y.point.date),b=l(y.point[y.field]);if(q.attr("cx",a).attr("cy",b),s.attr("x1",a).attr("y1",b),z&&1!==x){var c=k(z.point.date),d=l(z.point[z.field]);r.attr("cx",c).attr("cy",d),s.attr("x2",c).attr("y2",d),3===x&&g()}}},A.visible=function(a){if(a)switch(x){case 1:q.attr("display","inherit");break;case 2:q.attr("display","inherit"),r.attr("display","inherit"),s.attr("display","inherit");break;case 3:s.attr("display","inherit"),t.attr("display","inherit"),u.attr("display","inherit"),v.attr("display","inherit"),w.attr("display","inherit")}else q.attr("display","none"),r.attr("display","none"),s.attr("display","none"),t.attr("display","none"),u.attr("display","none"),v.attr("display","none"),w.attr("display","none")},A.target=function(a){return arguments.length?(i&&(i.on("mousemove.measure",null),i.on("click.measure",null)),i=a,i.on("mousemove.measure",b),i.on("click.measure",c),A):i},A.series=function(a){return arguments.length?(j=a,A):j},A.xScale=function(a){return arguments.length?(k=a,A):k},A.yScale=function(a){return arguments.length?(l=a,A):l},A.active=function(a){return arguments.length?(m=a,A):m},A.padding=function(a){return arguments.length?(n=a,A):n},A.formatH=function(a){return arguments.length?(o=a,A):o},A.formatV=function(a){return arguments.length?(p=a,A):p},A}}(d3,fc);
//# sourceMappingURL=d3-financial-components.min.js.map